<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<link rel="stylesheet" th:href="@{../css/fcltt/fcltt.css}" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
	<script th:src="@{../js/fcltt/fcltt.js}"></script>
</head>


<th:block th:replace="~{./include/basicLayout :: setContent(~{::.wrap})}">

	<div class="wrap">

		<!--메뉴바-->
		<div id="main_con">
			<div id="nav_menu">
				<div id="lnb">
					<h2 class="title">조력자확인</h2>
					<div class="menu">
						<ul>
							<li class="has-sub">
							<li style="display: bolck !important;"><a href="/fcltt/fclttRegist">조력자 등재</a></li>
							<li style="display: bolck !important;"><a href="/fcltt/fclttList">조력자 등재명단</a></li>
							<li style="display: bolck !important;"><a href="/fcltt/pause">조력자 활동신청관리</a></li>
							</li>
						</ul>
					</div>

				</div>
			</div>
			<!--   내용 시작 -->
			<div id="contents">

				<style>
					@media screen and (max-width: 1024px) {
						.table-responsive>table>tbody>tr td[data-cell-header]:before {
							width: 30%;
							margin: 0 0 0 0;
							vertical-align: unset;
						}
					}

					.table-responsive>table>tbody>tr:hover {
						background-color: #e6f8ff;
					}

					@media screen and (min-width: 1100px) {
						#select-box-margin-left-10 {
							margin-left: 6px;
						}
					}
				</style>

				<article id="detail-content">
					<form id="listForm" action="pause" name="listForm" method="get">
						<div class="heading-wrap container">
							<h3 class="heading1">
								<span>재판조력자 중지 / 활동 신청목록</span>
							</h3>
						</div>

						<!-- 본문컨텐츠 영역 -->
						<div class="container">

							<hr />
							<div class="fclttSearch_wrap">
								<div class="fclttSearch_content">
									<select name="" id="" class="fclttSearch fclttSearch1">
										<option value="">모두</option>
										<option value="">이름</option>
									</select>
									<input type="text" class="fclttSearch fclttSearch2" name="searchUser_name" />

									<a href="#" class="fclttSerch_Btn" id="pauseSearch_btn">검색</a>
									<select name="searchAccept_act_yn" id="" class="fclttSearch fclttSearch3">
										<option value="">신청사항</option>
										<option value="Y">중지신청</option>
										<option value="N">활동신청</option>
									</select>

								</div>
							</div>
							<hr />

							<!-- 게시판 시작 부분 -->
							<div class="table table-responsive">
								<table>
									<caption>
										번호, 민원서식명, 민원분류, 처리기간, 서식파일, 신청의 대한
										정보 제공
									</caption>
									<colgroup>
										<col style="width: 20%" />
										<col style="width: 15%" />
										<col style="width: 35%" />
										<col style="width: 15%" />
										<col style="width: 15%" />
									</colgroup>
									<thead>
										<tr>
											<th scope="col">신청일</th>
											<th scope="col">신청자이름</th>
											<th scope="col">중지기간</th>
											<th scope="col">활동상태</th>
											<th scope="col">처리</th>
										</tr>
									</thead>
									<tbody id="yourTableId">

									</tbody>
								</table>
							</div>
							<!-- pagenation -->
							<div class="pager">
								<div class="pager-wrap">
									<a href="#" class="arr first" title="처음으로"
										onclick="fn_egov_link_page(1); return false;"><strong class="sr-only">맨 처음 목록으로
											이동</strong></a><a href="#" class="arr prev" title="이전으로"
										onclick="fn_egov_link_page(1); return false;"><strong class="sr-only">이전페이지로
											이동</strong></a><a href="#" class="active" title="현재 선택된 페이지는 1 페이지 입니다."
										onclick="">1</a><a href="#" class=""
										onclick="fn_egov_link_page(2); return false;">2</a><a href="#" class=""
										onclick="fn_egov_link_page(3); return false;">3</a><a href="#" class=""
										onclick="fn_egov_link_page(4); return false;">4</a><a href="#" class=""
										onclick="fn_egov_link_page(5); return false;">5</a><a href="#" class=""
										onclick="fn_egov_link_page(6); return false;">6</a><a href="#" class=""
										onclick="fn_egov_link_page(7); return false;">7</a><a href="#" class=""
										onclick="fn_egov_link_page(8); return false;">8</a><a href="#" class=""
										onclick="fn_egov_link_page(9); return false;">9</a><a href="#" class=""
										onclick="fn_egov_link_page(10); return false;">10</a><a href="#"
										class="arr next" title="다음으로"
										onclick="fn_egov_link_page(11); return false;"><strong class="sr-only">다음페이지로
											이동</strong></a><a href="#" class="arr last" title="마지막으로"
										onclick="fn_egov_link_page(25); return false;"><strong class="sr-only">맨 마지막
											목록으로 이동</strong></a>

									<input id="pageIndex" name="pageIndex" type="hidden" value="1" />
									<input id="pageSize" name="pageSize" type="hidden" value="10" />
									<input id="pageUnit" name="pageUnit" type="hidden" value="10" />
									<input id="large_category_idx" name="large_category_idx" type="hidden" value="" />
									<input id="middle_category_idx" name="middle_category_idx" type="hidden" value="" />
									<input id="tot_middle_category_idx" name="tot_middle_category_idx" type="hidden"
										value="" />
									<input id="large_category_cd" name="large_category_cd" type="hidden" value="" />
									<input id="middle_category_cd" name="middle_category_cd" type="hidden" value="" />
								</div>
							</div>
						</div>
						<!-- //본문컨텐츠 영역 -->
					</form>
				</article>
			</div>
		</div><!-- //main_con  -->

	</div>


</th:block>
<script th:inline="javascript">

	var pauseSearch_btn = document.getElementById("pauseSearch_btn");
	pauseSearch_btn.onclick = function () {
		event.preventDefault(); // a 태그 중지버튼
		document.listForm.submit();
	}

</script>

<script th:inline="javascript">
	$(document).ready(function () {
		$.ajax({
			url: "pauseAjax", 
			type: "GET",
			success: function (data) { 
			
				var tbody = $("#yourTableId"); 

				for (var i = 0; i < data.length; i++) {
					var vo = data[i]; 
					var str = "";

					str += '<tr id="pause_text" class="pause_text1 cm_inptxt toggle-row" style="cursor: pointer">';
					str += '<td data-cell-header="신청일">' + moment(vo.pause_submit_date).format('YYYY-MM-DD') + '</td>';
					str += '<td data-cell-header="신청자이름" tabindex="0">' + vo.user_name + '</td>';
					str += '<td data-cell-header="중지기간">' + moment(vo.pause_start_date).format('YYYY-MM-DD') + ' ~ ' + moment(vo.pause_end_date).format('YYYY-MM-DD') + '</td>';
					str += '<td data-cell-header="현재활동상태"><a class="' + (vo.accept_act_yn == 'Y' ? 'fclttStatus1' : 'fclttStatus2') + '">';
					str += '<em>' + (vo.accept_act_yn == 'Y' ? '활동중' : '중지중') + '</em></a></td>';
					str += '<td data-cell-header="처리"><a href="#" class="' + (vo.accept_act_yn == 'Y' ? 'pauseResult1' : 'pauseResult2') + '">';
					str += '<em>' + (vo.accept_act_yn == 'Y' ? '중지승인' : '활동승인') + '</em></a></td></tr>';
					str += '<tr id="pause_text" class="pause_text1 hidden-row" style="display: none;"><td colspan="5" tabindex="0">';
					str += '<p>중지사유 : </p>' + vo.accept_pause_etc + '</td></tr>';

					// 표에 행 추가
					tbody.append(str);
				}
			}
		});
	});
	
	
	
</script>
<script>
	
	
		var toggleRows = document.querySelectorAll(".toggle-row");

		toggleRows.forEach(function (row) {
			row.addEventListener("click", function () {
				var hiddenRow = this.nextElementSibling;

				if (hiddenRow.style.display === "none") {
					hiddenRow.style.display = "table-row";
				} else {
					hiddenRow.style.display = "none";
				}
			});
		});




</script>


</html>